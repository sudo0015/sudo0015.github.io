## 简介

**Presto** 是一款用于文件同步/复制的桌面应用。为方便同学们拷课件而设计。具有简洁、快速、高效、可靠等特性。

### 简洁

- 全新UI，界面简洁，重点突出。
- 操作简单，多种功能，一键直达。

### 快速

- 独立占用内存，同步/复制速度明显快于文件资源管理器。
 
> [!NOTE]
> 对比 Presto 与文件资源管理器 (单位: MB/s)
> ![Chart](https://github.com/user-attachments/assets/ae9a3ba6-85be-4696-9d05-43ef84c358a8)

### 高效

- 采用文件同步技术，自动跳过相同文件，并使目标文件夹保持最新。
 
> [!NOTE]
> 同步原理
>
> |源文件夹|目标文件夹|操作|
> |:-:|:-:|:-:|
> |存在|存在|跳过|
> |存在|不存在|复制|
> |不存在|存在|删除|
>
> *注：通过比较源文件夹与目标文件夹，同步能够始终保持两个文件夹完全相同。*

### 可靠

- 内嵌文件校验，保证目标文件夹与源文件夹完全一致。

## 配置

在开始使用 Presto 前需进行配置。双击桌面图标，在右上角打开**设置**。

### 源

- **源文件夹**设置文件夹的来源（云上春晖/自定义）。
- 若选择了**云上春晖**，点击**选择文件夹**，选择云上春晖中的班级文件夹。

> [!IMPORTANT]
> 在首次使用前必须设置云上春晖中班级文件夹的位置。为避免权限问题，请选择UNC路径（例如：`\\10.181.201.188\云上春晖\2026届\02`），而不要选择映射的驱动器（例如：`Z:\\10.181.201.188\云上春晖\2026届\02`）。

- 若选择了**自定义**，展开下方选项卡以设置学科文件夹。

> [!TIP]
> 建议将学科文件夹以学科命名。

### 行为与性能

- **开机时启动**使 Presto 跟随系统启动。
- **完成后通知**任务完成后以 Windows 通知形式提醒。
- **扫描周期**设置 Presto U盘检测进程 在后台扫描驱动器插入的时间间隔。
- **并行进程数**设置允许同时进行的任务数，若已达到任务上限，后续任务将等待现有任务完成。
- **缓冲区大小**设置同步/复制任务的最大缓冲区大小，缓冲区越大，速度越快。

> [!WARNING]
> 过大的并行进程数与缓冲区大小会导致系统卡顿，甚至文件资源管理器的崩溃。

### 文件过滤

- **跳过空文件夹**不复制空文件夹及过滤后为空的文件夹。
- **大小过滤**根据文件体积，过滤大于指定大小的文件。展开选项卡以设置最大文件大小，可选择 KB、MB、GB 作为单位。
- **类型过滤**排除或包含指定类型的文件。展开选项卡以设置过滤模式（排除/包含）以及文件类型。
  - 排除模式将不复制所有指定类型的文件；包含模式将仅复制指定类型的文件。
  - 可通过点击**编辑**在弹出对话框中自定义文件类型（例如：`.db`数据库文件，`.lnk`快捷方式）。**添加文件类型**可增添新的条目，点击编辑框中的`√`以确认更改，点击**保存**以保存自定义的文件类型。

> [!WARNING]
> 文件过滤选项会对所有任务产生直接而现实的影响。

### 存储与高级

- **清除缓存**清除缓存文件与日志文件。
- **恢复默认设置**重置所有设置为初始值。
- **开发者选项**打开配置文件。

> [!WARNING]
> 随意修改配置文件可能导致程序异常，请谨慎操作。

## 使用

- 在**U盘扫描进程**开启状态下，插入U盘，将自动弹出U盘弹窗，点击**同步**以进入**学科与模式选择**界面。

> [!TIP]
> 建议关闭安全软件的U盘弹窗以获得最佳效果。

- 在**学科与模式选择界面**，在选择需要同步/复制的学科后，点击**执行同步**以开始任务。默认模式为**同步**，也可根据个人需要，在下拉菜单中选择其他模式：**同步（低占用）**、**复制（最近文件）**、**复制（从时间戳）**，功能如下：

  - **同步（低占用）** 会在任务进行过程中优先其他应用程序的IO，适用于需长时间同步又需保证系统流畅运行的情况；
  - **复制（最近文件）** 可以选择性地复制最近若干天的文件，适用于只需要最近文件且不希望占用U盘太多空间的情况。可以在**确定**时选择**删除原有文件**以进一步减少空间占用；
  - **复制（从时间戳）** 可以选择性地复制某一段时间范围内的文件，其余功能同**复制（最近文件）**。

- 在执行后，将弹出进度窗口，显示当前任务的进度。每同步/复制一个学科文件夹更新一次进度，届时可能出现进度条卡顿的情况，属正常现象。

> [!IMPORTANT]
> 相关安全软件可能会阻止 Presto 读写磁盘保留扇区，请允许操作。

- 任务完成后，点击**查看**以打开已完成同步/复制的文件夹，或点击**退出U盘**快速退出驱动器。若无操作，窗口将在10秒后自动关闭。

- 如果需要手动唤出U盘弹窗，可以通过双击桌面图标，在启动台中选择驱动器并**唤出U盘弹窗**，或在系统托盘区找到 Presto 图标，在弹出菜单中**快速启动**。
- 点击托盘区的 Presto 图标，在弹出菜单的**退出U盘**中选择要退出的驱动器，即可快速退出U盘。

## 反馈

若在使用过程中发现问题，或希望提出建议，请向电教办老师反馈，或来找我本人。
